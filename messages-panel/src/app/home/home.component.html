<header></header>


<div>
  
    <div class="container">
	
	<!-- <div class="message-loading-shade"
       *ngIf="isLoadingResults">
    <mat-spinner *ngIf="isLoadingResults"></mat-spinner>
  </div>
  -->
       
    <div class="container">
      <div fxLayout="row" fxLayoutAlign="center center" class="content">
        <mat-card class="card" >
          <mat-card-title fxLayout.gt-xs="row" fxLayout.xs="column">
            <h3>Mensagens</h3>
          </mat-card-title>
          <mat-card-content>
              <div class="message-container mat-elevation-z2">
			  
			   
				 <table mat-table [dataSource]="data" class="message-table"
           matSort matSortActive="hour" matSortDisableClear matSortDirection="asc" *ngIf="data.length > 0">
					   
				  <!-- Título da mensagem -->
				  <ng-container matColumnDef="title">
					<th mat-header-cell *matHeaderCellDef>Título</th>
					<td mat-cell *matCellDef="let row; let i = index">{{data[i].title}}</td>
				  </ng-container>
				  
				 <!-- Hora da publicação -->
				  <ng-container matColumnDef="hour">
					<th mat-header-cell *matHeaderCellDef>Hora de cadastro</th>
					<td mat-cell *matCellDef="let row; let i = index"> {{data[i].hour | date: 'dd/MM/yyy hh:mm' }}</td>
				  </ng-container>
				  
							  
				   <!-- Detalhes da mensagem -->
				  <ng-container matColumnDef="view">
					<th mat-header-cell *matHeaderCellDef></th>
					<td mat-cell *matCellDef="let row; let i = index">
						 <mat-card-actions>
							 <a mat-flat-button color="accent" [routerLink]="['/mensagem', data[i].id]"><mat-icon>visibility</mat-icon></a>							 
						</mat-card-actions>
					</td>
				  </ng-container>
				  
				  <!-- Editar mensagem -->
				  <ng-container matColumnDef="edit">
					<th mat-header-cell *matHeaderCellDef></th>
					<td mat-cell *matCellDef="let row; let i = index">
						 <mat-card-actions>
							 <a mat-flat-button color="primary" [routerLink]="['/editar', data[i].id]"><mat-icon>edit</mat-icon></a>							 
						</mat-card-actions>
					</td>
				  </ng-container>
				  
				  
				 
				  
				  <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
				  <tr mat-row *matRowDef="let row; columns: displayedColumns;" ></tr>

				  
				</table>
				
				
				
			</div> 
			
			<div *ngIf="data.length == 0">
				<p>Nenhuma mensagem cadastrada</p>
			</div>
          </mat-card-content>
        </mat-card>
      </div>
    </div>
  </div>
</div>
